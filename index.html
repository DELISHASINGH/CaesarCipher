<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Password Strength Checker</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width:700px; margin:auto; }
    .bar { height:16px; background:#eee; border-radius:8px; overflow:hidden; margin-top:10px; }
    .fill { height:100%; width:0%; transition:width .2s, background .2s; border-radius:8px; }
    .msg { margin-top:8px; font-weight:600; }
    .rules { margin-top:12px; font-size:14px; color:#444; }
    .rule { margin-bottom:4px; }
    .ok { color:green; }
    .bad { color:crimson; }
    .controls { display:flex; gap:8px; margin-top:8px; align-items:center; }
    button { padding:6px 10px; border-radius:6px; border:1px solid #ccc; background:#f7f7f7; cursor:pointer; }
  </style>
</head>
<body>
  <h2>Password strength checker</h2>

  <label for="pwd">Enter password</label>
  <input id="pwd" type="password" placeholder="Type password" style="width:100%;padding:10px;font-size:16px;margin-top:6px"/>

  <div class="controls">
    <div class="bar" style="flex:1;"><div id="fill" class="fill"></div></div>
    <button id="toggle">Show</button>
  </div>

  <div id="msg" class="msg">Enter a password</div>
  <div id="rules" class="rules" aria-live="polite"></div>

  <script>
    const input = document.getElementById('pwd');
    const fill = document.getElementById('fill');
    const msg = document.getElementById('msg');
    const rulesDiv = document.getElementById('rules');
    const toggle = document.getElementById('toggle');

    const common = ['password','123456','qwerty','letmein','admin'];

    function scorePassword(pw) {
      let score = 0;
      
      if (pw.length >= 16) score += 30;
      else if (pw.length >= 12) score += 25;
      else if (pw.length >= 8) score += 15;

      const hasLower = /[a-z]/.test(pw);
      const hasUpper = /[A-Z]/.test(pw);
      const hasDigit = /\d/.test(pw);
      const hasSpecial = /[^A-Za-z0-9]/.test(pw);

      if (hasLower) score += 10;
      if (hasUpper) score += 10;
      if (hasDigit) score += 10;
      if (hasSpecial) score += 10;

      
      if (!/(.)\1\1\1/.test(pw)) score += 5;

      
      const seqs = ['abcdefghijklmnopqrstuvwxyz','0123456789','qwertyuiop','asdfghjkl'];
      let seqFound = false;
      for (const s of seqs) {
        for (let i=0;i+3<pw.length;i++){
          const sub = pw.substring(i,i+4).toLowerCase();
          if (s.includes(sub)) { seqFound = true; break; }
        }
        if (seqFound) break;
      }
      if (!seqFound) score += 10;

      
      if (!common.includes(pw.toLowerCase())) score += 5;

      
      if (score > 100) score = 100;
      return {
        score, hasLower, hasUpper, hasDigit, hasSpecial, seqFound
      };
    }

    function strengthLabel(score) {
      if (score < 30) return 'Very weak';
      if (score < 50) return 'Weak';
      if (score < 70) return 'Medium';
      if (score < 90) return 'Strong';
      return 'Excellent';
    }

    input.addEventListener('input', () => {
      const pw = input.value;
      if (!pw) { fill.style.width='0%'; msg.textContent='Enter a password'; rulesDiv.innerHTML=''; return; }
      const res = scorePassword(pw);
      fill.style.width = res.score + '%';

      
      if (res.score < 30) fill.style.background = '#e74c3c';
      else if (res.score < 50) fill.style.background = '#f39c12';
      else if (res.score < 70) fill.style.background = '#f1c40f';
      else if (res.score < 90) fill.style.background = '#2ecc71';
      else fill.style.background = '#27ae60';

      msg.textContent = `${strengthLabel(res.score)} â€” ${res.score}/100`;

      rulesDiv.innerHTML = `
        <div class="rule ${res.hasLower ? 'ok':'bad'}">Lowercase letter</div>
        <div class="rule ${res.hasUpper ? 'ok':'bad'}">Uppercase letter</div>
        <div class="rule ${res.hasDigit ? 'ok':'bad'}">Number</div>
        <div class="rule ${res.hasSpecial ? 'ok':'bad'}">Special character</div>
        <div class="rule ${!res.seqFound ? 'ok':'bad'}">${res.seqFound ? 'Contains sequence' : 'No sequences'}</div>
      `;
    });

    toggle.addEventListener('click', () => {
      if (input.type === 'password') { input.type = 'text'; toggle.textContent = 'Hide'; }
      else { input.type = 'password'; toggle.textContent = 'Show'; }
    });
  </script>
</body>
</html>
//completed task 2

